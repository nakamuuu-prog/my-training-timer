# 筋トレ用のオリジナルタイマー

preview 版で Gemini 2.5 Pro が無料で使えるようになったので、筋トレタイマーを実装

## 作った経緯

HIIT トレーニングしたいけど同じトレーニングを何セットもするんじゃなくて違う種類の HIIT トレーニング組み合わせたい。
たとえば参考動画のようなトレーニングで以下のような組み合わせになるときなど。

- トレーニング 40 秒休憩 20 秒 6 種目
- トレーニング 30 秒休憩 30 秒 6 種目

今使っているタイマーだと 1 つ目のトレーニングが終わるとタイマーをセットし直すか、別のタイマーに切り替える手間がある。

めんどくさいので秒数と種目の組み合わせが変わっても、継続してタイマーが動くようにしたい。

### その他細かいところ

- 体の左右で分かれたトレーニングがあるため残り半分のところで知らせてほしい
- 次のトレーニングの準備に入るために、休憩が残り何秒か気にしたくない
- とにかくタイマーの秒数を気にしたくない
- DB は使わず簡素なものにしたいが、次回も同じ組み合わせでタイマーを開きたい

### 参考動画

- [【毎朝たったの５分】全身の脂肪を燃やす Hiit トレーニング](https://youtu.be/1QrZsG5PRGI?si=oNU99zDlmw_6TG5m)
- [【最速で絞れる】初心者向け脂肪燃焼トレ 6 種目メニュー](https://youtu.be/ItEGRQOmkVs?si=thrRvCnqynSAdMAG)

## 仕様

- タイマーは開始と休憩を 1 セットとして秒単位で設定できる
- セットしたセット数の回数だけ開始と休憩のタイマーが動く
- パターン登録ができ、開始と休憩のタイマーのセットが終えたら次のパターンのタイマーが動く(最大 5 パターン)
- 開始タイマーと休憩タイマー終了時にホイッスルが鳴る
- 開始タイマー残り半分のときにビープ音が鳴る
- タイマーが残り 5 秒になるとカウントダウンが始まる
- パターンの秒数、セット数はパラメーターに保持することで、ブックマークに保存して毎回同じパターンですぐ開けるようにする

## 最初に投げたプロンプト

```
筋トレ用のタイマーを作ってください。
プロジェクト名はmy-training-timerです。
仕様と環境は以下の通りです。

'''仕様
- タイマーは秒単位で設定します
- 秒数の設定は「開始」と「休憩」の2つが登録できます。
- 「開始」のタイマーが終了すると「休憩」のタイマーが開始するサイクル方式です。
- 「休憩」のタイマーが終了すると、再び「開始」のタイマーが開始し、「開始」と「休憩」のタイマーが繰り返し動きます。
- 「開始」と「休憩」のタイマーは、終了するとそれぞれ異なるホイッスル音がなります。
- 「開始」タイマーは残り半分になるとヒープ音が鳴ります。
- 「開始」「休憩」タイマーは残り5秒になると1秒ごとヒープ音が鳴ります。
- 「開始」と「休憩」タイマーのサイクル数を設定すると、設定した回数だけサイクルを回します。
- 「開始」と「休憩」タイマーのサイクルはパターンを5つ追加できます。たとえば以下のように設定すると、パターン1のサイクルが4回終わるとパターン2のサイクルが始まります。パターン2のサイクルが終了するとタイマーがすべて止まります。
- パターン1：「開始」30秒、「休憩」30秒 4回
- パターン2：「開始」15秒、「休憩」15秒 2回
- 設定したタイマーは次回も同じ設定が開けるように保存できます。
- 保存する設定はDBを使いません。
- Webアプリでパラメーターにしてブックマークできるようにしてください。
'''

'''環境
フレームワーク：React
言語：TypeScript
ライブラリ：適宜必要なものを使用
'''
```

### 効果音素材

[効果音ラボ](https://soundeffect-lab.info/)より

## Gemini 2.5 Pro 使ってみた感想

今回、全部無料の範囲内で実装したが、制限は 3 回ほどしかかからなかった。
ちゃんと指示通りに実装してくれたり、エラーの内容から的確な改善策を出してくれたので、スムーズに実装できた。
所要時間は 5 時間くらい。

全部 Gemini にやってもらおうと思ったが、以下のようなことが発生してうまくいかなかった。

- 修正を重ねるごとに古いやり取りの内容を忘れてしまう
- コードが長くなると(~中略~)みたいな出力の仕方になって差分よくわからなくなる
- 途中、細かい修正を自分で入れると差分がわかりづらくなる
- おまかせで「デザインをリッチにして！」っていうと、てんでよくわからないデザインになった

ベースは Gemini で実装したいい感じのところまでで終えて、細かいところとデザインは Github Copilot にやってもらった。
Github Copilot のようなコードを直接クロールして修正していくのと違って、チャットでやりとりするのはやっぱりやりづらいと思った。

ただ、ベースの部分は Claude と VSCode を MCP で繋いで作ってもらった時と違って、ほぼエラーなく(1 個だけエラーがあった)一発で動くものを作ってくれたので Gemini 2.5 Pro 優秀だと思う。
Claude のときは断念したが、Gemini では最後まで実装できた。

Claude のように途中のプロンプトの内容を修正できないので、失敗したプロンプトと回答が積み重なっていくのが微妙だが、プログラミングを知らない人が何かを作るには非常にいいツールかもしれない。
